
/* Quando il mouse Ã¨ sul tweet, permettiamo a TUTTO di uscire dai bordi */
article[data-testid="tweet"]:hover {
    z-index: 5000 !important;
    position: relative !important;
    overflow: visible !important; 
}

/* Il contenitore del nome utente non deve mai tagliare i nostri badge */
div[data-testid="User-Name"] {
    overflow: visible !important;
    position: relative !important;
    z-index: 5001 !important;
}

.ai-score-wrapper {
    display: inline-flex !important;
    align-items: center !important;
    margin-left: 6px !important;
    cursor: help !important;
    position: relative !important;
    overflow: visible !important;
    z-index: 6000 !important; 
    vertical-align: text-bottom !important;
}

.ai-triangle {
    width: 0 !important;
    height: 0 !important;
    border-left: 6px solid transparent !important;
    border-right: 6px solid transparent !important;
    border-bottom: 10px solid #e1e1e1 !important;
    filter: drop-shadow(0 1px 2px rgba(0,0,0,0.5));
    transition: transform 0.2s;
}

.ai-score-wrapper:hover .ai-triangle { transform: scale(1.2) translateY(-2px); }
.ai-triangle.warning { border-bottom-color: #ffd700 !important; }
.ai-triangle.critical { border-bottom-color: #ff3333 !important; }

/* Triangolo */
.ai-tooltip-pro {
    
    visibility: hidden;
    opacity: 0;
    
    position: absolute !important;
    z-index: 999999 !important;
    background: rgba(5, 5, 5, 0.98) !important;
    backdrop-filter: blur(10px);
    color: #ffffff !important;
    width: 240px !important;
    padding: 15px !important;
    border-radius: 12px !important;
    
    /* Posizionamento */
    bottom: 30px !important; 
    left: 50% !important;
    transform: translateX(-50%) translateY(10px) !important; /* Parte leggermente piÃ¹ in basso */
    
    border: 1px solid rgba(255, 255, 255, 0.15) !important;
    box-shadow: 0 10px 40px rgba(0,0,0,1) !important;
    pointer-events: none !important;
    text-align: left !important;
    
    /* Transizione fluida */
    transition: opacity 0.2s ease, transform 0.2s ease, visibility 0.2s;
}

/* Quando passi sul wrapper, il tooltip diventa visibile */
.ai-score-wrapper:hover .ai-tooltip-pro {
    visibility: visible !important;
    opacity: 1 !important;
    transform: translateX(-50%) translateY(0) !important;
}

.ai-prob {
    font-size: 16px !important;
    font-weight: 800 !important;
    color: #FF9500 !important;
    display: block;
    border-bottom: 1px solid rgba(255,255,255,0.1);
    padding-bottom: 5px; margin-bottom: 5px;
}
.ai-reasons-list { margin: 0 !important; padding-left: 15px !important; color: #cbd5e1 !important; }
.ai-reasons-list li { margin-bottom: 3px !important; font-size: 12px !important; }


.ai-cloned-text-container {
    position: relative !important;
    width: 100% !important;
    display: block !important;
    margin-top: 5px !important;
    color: transparent !important;
    text-shadow: 0 0 12px rgba(255, 255, 255, 0.7) !important;
    user-select: none !important;
    pointer-events: auto !important; 
    cursor: default !important;
}

@media (prefers-color-scheme: light) {
    .ai-cloned-text-container { text-shadow: 0 0 12px rgba(0, 0, 0, 0.6) !important; }
}
.ai-original-hidden { display: none !important; }


article.ai-blurred div[data-testid="tweetPhoto"],
article.ai-blurred div[data-testid="videoPlayer"],
article.ai-blurred div[data-testid="card.wrapper"] {
    position: relative !important;
}

.ai-media-curtain {
    position: absolute !important;
    top: 0 !important; left: 0 !important; 
    width: 100% !important; height: 100% !important;
    z-index: 50 !important;
    background: rgba(0, 0, 0, 0.4) !important; 
    backdrop-filter: blur(25px) grayscale(80%) !important;
    -webkit-backdrop-filter: blur(25px) grayscale(80%) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    pointer-events: auto !important; 
    cursor: not-allowed !important;
}

.ai-media-curtain::after {
    content: "ðŸ”’ AI HIDDEN";
    color: rgba(255,255,255,0.6);
    font-weight: 700; font-size: 12px; letter-spacing: 1px;
}

/* ==========================================================================
   --- 6. PILLOLA DI VETRO ---
   ========================================================================== */
.ai-glass-overlay {
    position: absolute !important;
    top: 0; left: 0; width: 100%; height: 100%;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    z-index: 50 !important;
}

.ai-blur-overlay-btn {
    position: relative !important;
    z-index: 101 !important;
    background: rgba(15, 23, 42, 0.75) !important;
    backdrop-filter: blur(16px) !important;
    -webkit-backdrop-filter: blur(16px) !important;
    border: 1px solid rgba(255, 149, 0, 0.4) !important;
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.4) !important;
    color: #FF9500 !important;
    padding: 10px 24px !important;
    border-radius: 99px !important;
    font-weight: 600 !important;
    font-size: 14px !important;
    cursor: pointer !important;
    pointer-events: auto !important;
    display: flex !important;
    align-items: center !important;
    gap: 8px !important;
    transition: transform 0.2s ease !important;
}
.ai-blur-overlay-btn:hover {
    background: rgba(255, 149, 0, 0.9) !important;
    color: #000 !important;
    transform: scale(1.05) !important;
    box-shadow: 0 10px 20px rgba(255, 149, 0, 0.3) !important;
}


.ai-report-container {
    display: block !important; margin-top: 15px !important; padding-top: 10px !important;
    border-top: 1px solid rgba(255,255,255,0.1) !important;
    animation: fadeIn 0.5s ease !important; pointer-events: auto !important;
    position: relative !important; z-index: 102 !important;
}
.ai-report-btn {
    background: transparent !important; border: none !important; color: #94a3b8 !important;
    font-size: 11px !important; font-weight: 500 !important; cursor: pointer !important; pointer-events: auto !important;
}
.ai-report-btn:hover { color: #ff3333 !important; text-decoration: underline !important; }


.ai-missed-report-btn {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    
    background: rgba(255, 215, 0, 0.1) !important;
    border: 1px solid rgba(255, 215, 0, 0.4) !important;
    color: #FFD700 !important;
    
    width: 20px !important; 
    height: 20px !important;
    border-radius: 50% !important;
    
    margin-left: 8px !important;
    cursor: pointer !important;
    font-weight: 800 !important;
    font-size: 12px !important;
    
    position: relative !important;
    z-index: 20000 !important; 
    vertical-align: text-bottom !important;
    
    transition: all 0.2s ease !important;
}

.ai-missed-report-btn:hover {
    background: rgba(255, 215, 0, 0.25) !important;
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.6) !important;
    transform: scale(1.15) !important;
    border-color: #FFD700 !important;
}

/* TOOLTIP GIALLO (Anche qui usiamo opacity/visibility) */
.ai-missed-report-btn::after {
    content: "Report Missed AI";
    position: absolute;
    bottom: 35px;
    left: 50%;
    transform: translateX(-50%) translateY(5px);
    
    background: #1e1e1e;
    color: #FFD700;
    border: 1px solid #FFD700;
    padding: 6px 10px;
    border-radius: 6px;
    font-size: 11px;
    font-weight: 600;
    white-space: nowrap;
    box-shadow: 0 5px 15px rgba(0,0,0,0.8);
    
    visibility: hidden;
    opacity: 0;
    pointer-events: none;
    
    transition: opacity 0.2s, transform 0.2s, visibility 0.2s;
    z-index: 20002 !important; 
}

.ai-missed-report-btn:hover::after {
    visibility: visible;
    opacity: 1;
    transform: translateX(-50%) translateY(0);
}